<!DOCTYPE html>
<html lang="kr">
	<head>
		<meta charset="UTF-8">
		<title>Rock Scissors Paper</title>
		<script type="text/javascript">
			function playGame(){
				if(document.getElementById("com_rsp") != null && document.getElementById("user_rsp") != null){
				document.getElementById("com_rsp").remove();
				document.getElementById("user_rsp").remove();
				}
				
				var arrRSP = ["가위","바위","보"];
				var comIndex = Math.floor(Math.random()*3);
				var comRSP = arrRSP[comIndex];
				
				var userRSP = document.getElementById("rsp_select").value;
				var userIndex = arrRSP.indexOf(userRSP);
				
				var userSrc = "../source/";
				var comSrc = "../source/";
				
				//user + com src
				if(userIndex == 0)
					userSrc += "ga_right.png";
				if(userIndex == 1)
					userSrc += "ba_right.png";
				if(userIndex == 2)
					userSrc += "bo_right.png";
				
				if(comIndex == 0)
					comSrc += "ga_left.png";
				if(comIndex == 1)
					comSrc += "ba_left.png";
				if(comIndex == 2)
					comSrc += "bo_left.png";
				
				var result;
				if(comIndex == userIndex){
					result = "비겼습니다.";
				}else if(comIndex > userIndex){
					if(comIndex == 2 && userIndex == 0){
						result = "이겼습니다.";
					}else
					result = "졌습니다.";
				}else if(comIndex < userIndex){
					if(comIndex == 0 && userIndex == 2){
						result = "졌습니다.";
					}else
					result = "이겼습니다.";
				}else{
					result = "결과를 알 수 없습니다.\n";
					result += "com : " + comRSP + ", user : " + userRSP;
				}
				
				document.getElementById("result_rsp").innerHTML = "결과 : " + result;
								
				var userObj = document.createElement('img');
				var comObj = document.createElement('img');
				
				userObj.id = "user_rsp";
				userObj.alt = " ";
				userObj.src = userSrc;
				
				comObj.id = "com_rsp";
				comObj.alt = " ";
				comObj.src = comSrc;
				
				document.getElementById("rsp_div").appendChild(comObj);
				document.getElementById("rsp_div").appendChild(userObj);
			}
		</script>
		<style type="text/css">
			img{
				width: 50%;
			}
		</style>
	</head>
	<body>
		<div style="width: 100%; height: 50; text-align: center; padding: 5px; ">
			<select id="rsp_select">
				<option value="가위">가위</option>
				<option value="바위">바위</option>
				<option value="보">보</option>
			</select>
			<button type="button" onclick="playGame()">게임 시작</button>
		</div>
		<div style="background-color: yellow; width: 50%; height: 50; float: left; text-align: center;">
			<p><b>Com</b></p>
		</div>
		<div style="background-color: red; width: 50%; height: 50; float: left;  text-align: center;">
			<p><b>User</b></p>
		</div>
		<div id="rsp_div" style="width: 100%"></div>
		<div id="result_rsp" style="width: 100%; text-align: center;"></div>
	</body>
</html>